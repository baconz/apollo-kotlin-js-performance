<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello, Kotlin/JS!</title>
</head>
<body>
    <h1>
        Timing of KMM (MS): <span id="kotlin"></span>
    </h1>

    <h1>
        Timing of JS Raw Promise (MS): <span id="js"></span>
    </h1>

    <h1>
        Timing of JS With Data Munge (MS): <span id="js-munge"></span>
    </h1>


</body>
<script src="shared.js"></script>
<script>
    const kotlinStart = Date.now();
    shared.com.baconz.apolloperformance.getAllFilmsAsKotlinPromise().then((f) => {
        const timeTaken = Date.now() - kotlinStart;
        console.log(timeTaken, f);
        document.getElementById("kotlin").innerHTML = timeTaken;
        const jsStart = Date.now();
        shared.com.baconz.apolloperformance.getAllFilmsNativeJsPromise().then((f) => {
            const timeTaken = Date.now() - jsStart;
            console.log(timeTaken, f);
            document.getElementById("js").innerHTML = timeTaken;

            const mungeStart = Date.now();
            shared.com.baconz.apolloperformance.getAllFilmsNativeAndMungeData().then((f) => {
                const timeTaken = Date.now() - mungeStart;
                console.log(timeTaken, f);
                document.getElementById("js-munge").innerHTML = timeTaken;
            });
         });
    });


</script>
</html>
